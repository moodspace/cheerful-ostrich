<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="./node_modules/bootstrap-material-design/dist/css/bootstrap-material-design.min.css">
  <link rel="stylesheet" href="./node_modules/bootstrap-material-design/dist/css/ripples.min.css">

  <script src="/node_modules/bootstrap-material-design/bower_components/jquery/dist/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="/node_modules/bootstrap-material-design/dist/js/material.min.js"></script>
  <script src="/node_modules/bootstrap-material-design/dist/js/ripples.min.js"></script>
</head>

<body>
  <div class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="javascript:void(0)">Brand</a>
      </div>
      <div class="navbar-collapse collapse navbar-responsive-collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a href="javascript:void(0)">Active</a></li>
          <li><a href="javascript:void(0)">Link</a></li>
          <li class="dropdown">
            <a href="http://fezvrasta.github.io/bootstrap-material-design/bootstrap-elements.html" data-target="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown
              <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="javascript:void(0)">Action</a></li>
              <li><a href="javascript:void(0)">Another action</a></li>
              <li><a href="javascript:void(0)">Something else here</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">Dropdown header</li>
              <li><a href="javascript:void(0)">Separated link</a></li>
              <li><a href="javascript:void(0)">One more separated link</a></li>
            </ul>
          </li>
        </ul>
        <form class="navbar-form navbar-left">
          <div class="form-group">
            <input type="text" class="form-control col-sm-8" placeholder="Search">
          </div>
        </form>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="javascript:void(0)">Link</a></li>
          <li class="dropdown">
            <a href="http://fezvrasta.github.io/bootstrap-material-design/bootstrap-elements.html" data-target="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown
              <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="javascript:void(0)">Action</a></li>
              <li><a href="javascript:void(0)">Another action</a></li>
              <li><a href="javascript:void(0)">Something else here</a></li>
              <li class="divider"></li>
              <li><a href="javascript:void(0)">Separated link</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="h3">Interest</div>
    <form>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="display_name" class="control-label">Display As</label>
          <input type="text" class="form-control" name="display_name">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group label-static">
              <label for="latitude" class="control-label">Lat</label>
              <input type="number" class="form-control" name="latitude">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group label-static">
              <label for="longitude" class="control-label">Long</label>
              <input type="number" class="form-control" name="longitude">
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-12 text-right">
        <a href="javascript:void(0)" class="btn btn-primary btn-locate">Locate</a>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="description" class="control-label">Description</label>
          <input type="text" class="form-control" name="description">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="image_url" class="control-label">Image URL</label>
          <input type="text" class="form-control" name="image_url">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="type" class="control-label">Type</label>
          <input type="number" class="form-control" name="type">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="region_id" class="control-label">Region</label>
          <input type="number" class="form-control" name="region_id">
        </div>
      </div>
      <div class="col-lg-12 text-right">
        <div class="form-group">
          <a href="javascript:void(0)" id="addInterest" class="btn btn-default">Add</a>
        </div>
      </div>
    </form>

    <div class="h3">Parking</div>
    <form>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="display_name" class="control-label">Display As</label>
          <input type="text" class="form-control" name="display_name">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group label-static">
              <label for="latitude" class="control-label">Lat</label>
              <input type="number" class="form-control" name="latitude">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group label-static">
              <label for="longitude" class="control-label">Long</label>
              <input type="number" class="form-control" name="longitude">
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-12 text-right">
        <a href="javascript:void(0)" class="btn btn-primary btn-locate">Locate</a>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="description" class="control-label">Description</label>
          <input type="text" class="form-control" name="description">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="image_url" class="control-label">Image URL</label>
          <input type="text" class="form-control" name="image_url">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="capacity" class="control-label">Capacity</label>
          <input type="number" class="form-control" name="capacity">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="row">
          <div class="col-lg-6">
            <div class="form-group label-static">
              <label for="region_id" class="control-label">Region</label>
              <input type="number" class="form-control" name="region_id">
            </div>
          </div>
          <div class="col-lg-6">
            <div class="form-group label-static">
              <label for="interest_id" class="control-label">Interest</label>
              <input type="number" class="form-control" name="interest_id">
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-12 text-right">
        <div class="form-group">
          <a href="javascript:void(0)" id="addParking" class="btn btn-default">Add</a>
        </div>
      </div>
    </form>

    <div class="h3">Region</div>
    <form>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="display_name" class="control-label">Display As</label>
          <input type="text" class="form-control" name="display_name">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group label-static">
          <label for="description" class="control-label">Description</label>
          <input type="text" class="form-control" name="description">
        </div>
      </div>
      <div class="col-lg-12">
        <div class="form-group label-static">
          <label for="GeoJSON" class="control-label">GeoJSON</label>
          <textarea class="form-control" rows="3" id="GeoJSON"></textarea>
        </div>
      </div>
      <div class="col-lg-12 text-right">
        <div class="form-group">
          <a href="javascript:void(0)" class="btn btn-default">Add</a>
        </div>
      </div>
    </form>
  </div>
  <!-- Latest compiled and minified JavaScript -->

  <script>
    $.material.init();
    $(document).ready(function() {
      $(".btn-locate").each(function() {
        $(this).click(function() {
          var lat = $(this).parent().prev().find("input[name='latitude']").val();
          var long = $(this).parent().prev().find("input[name='longitude']").val();
          window.open("https://bing.com/maps/default.aspx?lvl=25&cp="+lat+"~"+long);
        });
      });

      $("#addParking").click(function() {
        var form = $(this).parent().parent().parent();
        var lat = form.find("input[name='latitude']").val();
        var long = form.find("input[name='longitude']").val();
        var display_name = form.find("input[name='display_name']").val();
        var description = form.find("input[name='description']").val();
        var image_url = form.find("input[name='image_url']").val();
        var capacity = form.find("input[name='capacity']").val();
        var region = form.find("input[name='region_id']").val();
        var interest = form.find("input[name='interest_id']").val();
        $.ajax({
          method: "POST",
          url: "http://127.0.0.1:8000/v1/parkings",
          data: JSON.stringify({
            parking_id: -1,
            latitude: Number(lat),
            longitude: Number(long),
            description: description,
            image: image_url,
            display_name: display_name,
            capacity: Number(capacity),
            region: Number(region),
            interest: Number(interest)
          }),
          contentType: "application/json"
        }).done(function(data) {
          console.log(data);
        });
      });

      $("#addInterest").click(function() {
        var form = $(this).parent().parent().parent();
        var lat = form.find("input[name='latitude']").val();
        var long = form.find("input[name='longitude']").val();
        var display_name = form.find("input[name='display_name']").val();
        var description = form.find("input[name='description']").val();
        var image_url = form.find("input[name='image_url']").val();
        var region = form.find("input[name='region_id']").val();
        var type = form.find("input[name='type']").val();
        $.ajax({
          method: "POST",
          url: "http://127.0.0.1:8000/v1/interests",
          data: JSON.stringify({
            interest_id: -1,
            latitude: Number(lat),
            longitude: Number(long),
            description: description,
            image: image_url,
            interest_type: Number(type),
            display_name: display_name,
            region: Number(region),
          }),
          contentType: "application/json"
        }).done(function(data) {
          console.log(data);
        });
      });
    });
  </script>
</body>
</html>
